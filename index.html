<html>
    <head>
        <title>Hack Spots</title>
        <meta charset='utf-8'>
        <script type="text/javascript" src='js/jquery.js '></script>
        <script type="text/javascript" src='js/tabletop1.3.4.js'></script>
        <script type="text/javascript" src='js/sheetsee.js'></script>
        <script type="text/javascript" src='js/leaflet.markercluster.js'></script>
        <link rel="shortcut icon" href="https://raw.github.com/jlord/hack-spots/master/favico.png"/>

        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link href='https://api.tiles.mapbox.com/mapbox.js/v1.4.0/mapbox.css' rel='stylesheet' />
        <link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic'>
        <link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css?family=Amatic+SC:400,700'>
        <link media="screen" rel="stylesheet" type="text/css" href="css/style.css">
        <link media="screen" rel="stylesheet" type="text/css" href="css/site.css">
        <link rel="stylesheet" href="css/MarkerCluster.css" />
        <link rel="stylesheet" href="css/MarkerCluster.Default.css" />
    </head>
<body>
  <div id="placeholder"></div>

  <script id="placeholder" type="text/html">
    // template if you so desire!
  </script>

  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
      var gData
      var URL = "0Ao5u1U6KYND7dGN5QngweVJUWE16bTRob0d2a3dCbnc"
      Tabletop.init( { key: URL, callback: showInfo, simpleSheet: true } )
    })

    function showInfo(data) {
      gData = data
      var optionsJSON = ["placename", "photo-url"]
      var template = "<ul><li><a href='{{photo-url}}' target='_blank'>"
                   + "<img src='{{photo-url}}'></a></li>"
                   + "<li><h4>{{placename}}</h4></li></ul>"
      var geoJSON = Sheetsee.createGeoJSON(gData, optionsJSON)
      var map = Sheetsee.loadMap("map")
      Sheetsee.addTileLayer(map, 'examples.map-20v6611k')
      var markerLayer = Sheetsee.addMarkerLayer(geoJSON, map, template)
    }
  </script>
  </body>
</html>
